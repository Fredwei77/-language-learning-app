# 微信服务器配置详细步骤

## 📋 你的配置信息

```
AppID: wx5d73e796a1ab4ab8
Token: good2study_wechat_2024
服务器URL: https://good2study.netlify.app/api/wechat/callback
```

## ⚠️ 重要：先获取 AppSecret

在配置服务器之前，你需要先获取 AppSecret：

### 步骤 1：获取 AppSecret

1. 在当前页面（基本配置）找到 **"AppSecret(应用密钥)"**
2. 点击 **"重置"** 按钮
3. 使用管理员微信扫码确认
4. **立即复制显示的 AppSecret**（只显示一次！）
5. 保存到安全的地方

**AppSecret 格式：** 32位字符串，类似 `a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6`

### 步骤 2：告诉我 AppSecret

获取到后，请告诉我：

```
AppSecret: [你的32位AppSecret]
```

我会立即配置并部署。

## 🔧 配置服务器（获取 AppSecret 后进行）

### 步骤 1：填写服务器配置

在微信公众平台的 **"服务器配置"** 部分：

#### URL（服务器地址）
```
https://good2study.netlify.app/api/wechat/callback
```

#### Token（令牌）
```
good2study_wechat_2024
```

#### EncodingAESKey（消息加解密密钥）
点击 **"随机生成"** 按钮

#### 消息加解密方式
选择 **"明文模式"**（开发阶段使用）

### 步骤 2：提交验证

⚠️ **注意：** 在点击"提交"之前，确保：
1. 我已经完成代码部署
2. 我告诉你"可以提交了"

然后：
1. 点击 **"提交"** 按钮
2. 微信会验证服务器
3. 如果成功，显示 **"提交成功"**

### 步骤 3：启用配置

验证成功后：
1. 点击 **"启用"** 按钮
2. 配置生效

## 📸 配置截图参考

你的配置应该是这样的：

```
┌─────────────────────────────────────────────┐
│ 服务器配置                                   │
├─────────────────────────────────────────────┤
│ URL:                                        │
│ https://good2study.netlify.app/api/wechat/ │
│ callback                                    │
├─────────────────────────────────────────────┤
│ Token:                                      │
│ good2study_wechat_2024                      │
├─────────────────────────────────────────────┤
│ EncodingAESKey:                             │
│ [点击"随机生成"按钮生成的43位字符]           │
├─────────────────────────────────────────────┤
│ 消息加解密方式:                              │
│ ○ 明文模式 ● 兼容模式 ○ 安全模式            │
└─────────────────────────────────────────────┘

[提交] [取消]
```

## ❓ 常见问题

### Q1: 点击"提交"后显示"请求URL超时"

**原因：** 代码还没部署或 URL 错误

**解决：**
1. 确认我已经告诉你"可以提交了"
2. 检查 URL 是否完全正确
3. 等待几分钟后重试

### Q2: 显示"Token验证失败"

**原因：** Token 不匹配

**解决：**
1. 确认 Token 是：`good2study_wechat_2024`
2. 注意大小写和空格
3. 重新输入

### Q3: 找不到"服务器配置"

**位置：**
```
左侧菜单 → 设置与开发 → 基本配置 → 服务器配置
```

如果看不到，可能需要：
1. 确认是服务号（不是订阅号）
2. 确认已认证
3. 刷新页面

## 🎯 下一步

1. **现在：** 获取 AppSecret 并告诉我
2. **然后：** 我配置环境变量并部署代码
3. **最后：** 我告诉你"可以提交了"，你再配置服务器

---

**需要帮助？** 随时截图给我，我会指导你！
