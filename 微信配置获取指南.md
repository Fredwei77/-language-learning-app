# 微信公众号配置信息获取指南

## 📱 登录微信公众平台

1. 访问：https://mp.weixin.qq.com
2. 使用管理员微信扫码登录
3. 进入你的服务号后台

## 🔑 获取 AppID 和 AppSecret

### 步骤 1：进入基本配置

```
左侧菜单 → 设置与开发 → 基本配置
```

### 步骤 2：查看开发者ID

在页面中找到 **"开发者ID(AppID)"** 部分：

```
AppID(应用ID): wxXXXXXXXXXXXXXXXX
```

**复制这个 AppID**

### 步骤 3：获取 AppSecret

在 AppID 下方，找到 **"AppSecret(应用密钥)"**：

1. 如果从未生成过，点击 **"生成"** 按钮
2. 如果已生成但忘记了，点击 **"重置"** 按钮
3. 会要求管理员扫码确认
4. 扫码后会显示 AppSecret（只显示一次！）

**⚠️ 重要：立即复制并保存 AppSecret，关闭后无法再次查看**

```
AppSecret: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

## 🔐 配置服务器

### 步骤 1：准备 Token

Token 是你自定义的字符串，用于验证微信服务器的请求。

**建议格式：**
```
wechat_token_[随机字符串]
```

**示例：**
```
wechat_token_abc123xyz789
```

你可以使用任何字符串，但建议：
- 长度：8-32 个字符
- 包含字母和数字
- 不要使用特殊符号

**现在就想一个 Token 并记下来！**

### 步骤 2：配置服务器地址（稍后进行）

在 **"服务器配置"** 部分，需要填写：

```
URL: https://good2study.netlify.app/api/wechat/callback
Token: [你刚才想的 Token]
EncodingAESKey: [点击"随机生成"按钮]
消息加解密方式: 明文模式（开发阶段）
```

**⚠️ 注意：现在先不要提交！等代码部署后再配置**

## 📝 填写配置文件

### 步骤 1：创建 .env.local 文件

在项目根目录创建 `.env.local` 文件（如果已存在则编辑）

### 步骤 2：添加配置

```env
# 微信公众号配置
WECHAT_APP_ID=wx你的AppID
WECHAT_APP_SECRET=你的AppSecret
WECHAT_TOKEN=你自定义的Token
NEXT_PUBLIC_WECHAT_NAME=忆迈AI智能文化
```

### 步骤 3：保存文件

确保文件保存在项目根目录，与 `package.json` 同级。

## ✅ 配置检查清单

完成后，你应该有以下信息：

- [ ] AppID（格式：wx开头，18位）
- [ ] AppSecret（32位字符串）
- [ ] Token（自定义，8-32位）
- [ ] 已创建 .env.local 文件
- [ ] 已填写所有配置

## 🔒 安全提示

### 重要：保护你的密钥

1. **不要分享 AppSecret**
   - 这是最重要的密钥
   - 泄露后需要立即重置

2. **不要提交到 Git**
   - `.env.local` 已在 `.gitignore` 中
   - 确认不会被提交

3. **定期更换**
   - 建议每 3-6 个月更换一次 AppSecret

## 📸 截图示例

如果不确定在哪里找，可以：

1. 截图你看到的页面
2. 发给我确认
3. 我会指导你具体位置

## ❓ 常见问题

### Q1: 找不到"基本配置"菜单？

**A:** 确认你登录的是服务号，且有管理员权限。

### Q2: 点击"生成 AppSecret"没反应？

**A:** 需要管理员微信扫码确认，确保手机微信在线。

### Q3: AppSecret 只显示一次怎么办？

**A:** 如果没记下来，只能重置。重置后旧的 AppSecret 会失效。

### Q4: Token 有什么要求？

**A:** 
- 必须为英文或数字
- 长度为 3-32 字符
- 不能包含特殊符号

## 🎯 下一步

获取到所有信息后，告诉我：

```
✅ 我已经获取到所有配置信息
✅ 我已经创建并填写了 .env.local 文件
```

然后我会继续帮你完成剩余的实现！

---

**需要帮助？** 随时告诉我你遇到的问题！
